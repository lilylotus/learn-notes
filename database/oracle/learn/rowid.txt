ROWID是ORACLE中的一个重要的概念。用于定位数据库中一条记录的一个相对唯一地址值。
ROWID它是一个伪列，它并不实际存在于表中。
通常情况下，该值在该行数据插入到数据库表时即被确定且唯一。
所以根据一行数据的ROWID能找到一行数据的物理地址信息。从而快速地定位到数据行。
数据库的大多数操作都是通过ROWID来完成的，而且使用ROWID来进行单记录定位速度是最快的。

索引值→ROWID->将ROWID换算成一行数据的物理地址->得到一行数据

AAJz64 ABb AAF/ir AAA
第一部分6位表示：该行数据所在的数据对象的 data_object_id；
第二部分3位表示：该行数据所在的相对数据文件的id;
第三部分6位表示：该数据行所在的数据块的编号；
第四部分3位表示：该行数据的行的编号；

索引就是保存了rowid后三个部分的信息。索引是物理存在的，而rowid是伪列。所以索引可以用来快速地定位到数据行。

rowid采用64进制来编码
编码方法是：A~Z表示0到25；a~z表示26到51；0~9表示52到61；+表示62；/表示63；刚好64个字符。

===========================================================================
rownum是根据sql查询出的结果给每行分配一个逻辑编号
查找前三名的记录
select * from emp a where rownum < 3
这里我们要注意，直接用rownum查找的范围必须要包含1；
因为rownum是从1开始记录的，当然你可以把rownum查出来后放在一个虚表中作为这个虚表的字段再根据条件查询。

============================================================================
create or replace trigger TRI_PrintTest
before delete or insert or update on TEST_EXAM　　--触发事件
for each row　　　　　　　　　　　　　　　　　　-- 每修改一行都需要调用此过程
begin
     dbms_output.put_line(:new.IDNEW);     --IDNEW字段更新后的值
     dbms_output.put_line(:old.IDNEW);       --IDNEW字段更新前的值
end;

:new— 触发器执行过程中触发表作操作的当前行的新纪录
:old— 触发器执行过程中触发表作操作的当前行的旧纪录

:new --为一个引用最新的列值;
:old --为一个引用以前的列值;
这两个变量只有在使用了关键字 "FOR EACH ROW"时才存在.
且update语句两个都有,而insert只有:new ,delect 只有:old;


1、必须是行级触发器，因为:new或者:old是当前触发表操作的当前行的新数据或者旧数据，所以必须在行级触发器中才能使用。
2、 当触发器被不同事件触发时，需要注意：
    insert触发操作 只有 :new
    delete触发操作 只有 :old
    update触发操作 都有。
    如果违反上述操作中随意使用:new或者:old不会在编译时报错误但是会发现使用这两个关键字无效。
3、 使用触发器时如果要修改:new的值需要注意：
    只有行级前触发器才能修改:new的值，而行级后触发器不可以。
    因为行级前触发器是在本行DML操作之前，所以才能修改:new的值。
	从逻辑上说，也只有在这时修改才有意义。
	如果行级后触发器要试图修改:new的值会报变异错误。
	从逻辑上说后触发器的执行已经在本行DML操作，以后了，再修改:new的值已经不会对数据产生影响了。
4、 当在触发条件中使用:new或者:old的时候注意，只能直接写 old或者new，不能带符号”:”否则会出错。
============================================================================
一. ROWID(伪列)
ORACLE数据库的表中的每一行数据都有一个唯一的标识符，或者称为rowid，
在oracle内部通常就是使用它来访问数据的

rowid需要 10个字节的存储空间，并用18个字符来显示。
该值表明了该行在oracle数据库中的物理具体位置。
可以在一个查询中使用rowid来表明查询结果中包含该值。

1. ROWID 的组成-18位 (AAAR3sAAEAAAACTAAA)
数据对象编号(6位) : 表明此行所属的数据库对象的编号
相对文件编号(3位) : 表明该行所在文件的编号，表空间的每一个文件标号都是唯一的
数据块编号(6位) : 表明该行所在文件的块的位置块编号。
数据行编号(3位) : 表明该行在行目录中的具体位置行编号。
AAAR3s-AAE-AAAACT-AAA

-- 删除重复的行，留下最早创建的行
DELETE FROM deptcopy
WHERE ROWID NOT IN (
    SELECT MIN(ROWID)
    FROM deptcopy
    GROUP BY deptno, dname, loc
) ;


二. ROWNUMBER(伪列)
不是固定的，而是根据记录行的累加进行的自动编号，它绝对不是固定的。
可以自动的进行行号的显示，还可以 ：
1. 取出一个查询的第一行记录
2. 取出一个查询的前N行记录

-- ROWNUM 实现分页
SELECT * FROM (
    SELECT empno, ename, job, hiredate, sal, mgr, deptno, ROWNUM rn
    FROM emp
    WHERE ROWNUM <= 5) tmp
WHERE tmp.rn > 0;

/*
    LineSize = 5;
    CurrentPage = 1;

    1. ROWNUM <= LineSize * CurrentPage
    2. ROWNUM > (CurrentPage - 1) * LineSize
*/