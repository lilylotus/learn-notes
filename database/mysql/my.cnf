# For advice on how to change settings please see
# http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html

[mysqld]
#skip_grant_tables
#
# Remove leading # and set to the amount of RAM for the most important data
# cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.
innodb_buffer_pool_size = 128M
#
# Remove leading # to turn on a very important data integrity option: logging
# changes to the binary log between backups.
# log_bin
#
# Remove leading # to set options mainly useful for reporting servers.
# The server defaults are faster for transactions and fast SELECTs.
# Adjust sizes as needed, experiment to find the optimal values.
join_buffer_size = 128M
sort_buffer_size = 2M
read_rnd_buffer_size = 2M
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
explicit_defaults_for_timestamp=true

# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0

log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid

# slave
server_id = 200
log_bin = mysql-bin
sync_binlog = 1
binlog_format = mixed  # row, statement
binlog-do-db = test
log_bin = mysql-bin
sync_binlog = 1
binlog_format = mixed  # row, statement
binlog-do-db = test

slow_query_log = 1
slow_query_log_file = /var/log/mysql-slow.log
long_query_time = 2

log_error = /var/log/mysqld.log
log_output = FILE

# slave things
#log-slave-updates = 1
#relay-log-purge = 1
#relay_log_recovery = 1
#master_info_repository = TABLE
#relay_log_info_repository = TABLE

# multi thread
slave_parallel_type = logical_clock
slave_parallel_workers = 4

[mysql]
default-character-set = utf8mb4